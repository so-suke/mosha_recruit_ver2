// visual
// ------------------------------------
.visual {
  &.isActive {
    transform-origin: 50% 0;
    transform: none;
    .visual {
      &__bg {
        opacity: 1;
        transform: none;
        transition: opacity $transitionSpeedNormal, transform $transitionSpeedVerySlow $easeOutExpo;
      }
      &__logoTitle {
        .title {
          &--1 {
            transition-delay: 1.4s;
            &::after {
              transition-delay: 1.7s;
            }
          }
          &--2 {
            transition-delay: 1.6s;
            &::after {
              transition-delay: 1.9s;
            }
          }
        }
      }
      &__logoTitle span,
      &__imgs .position {
        transform-origin: 50% 100%;
        transform: none;
        &::after {
          transform-origin: 50% 0;
          transform: scaleY(0);
        }
      }
      &__imgs {
        .position {
          // visual__imgの1から6までのdelay定義
          @each $i in $visualImgDisplayOrder {
            &--#{$i} {
              transition-delay: #{$visualImgDelayBase}s;
              &::after {
                transition-delay: #{$visualImgAfterDelayBase}s;
              }
            }
            // delay値を変動
            $visualImgDelayBase: $visualImgDelayBase + $delayFloatingVal;
            $visualImgAfterDelayBase: $visualImgAfterDelayBase + $delayFloatingVal;
          }

          &--7 {
            transition-delay: 0.5s;
            &::after {
              transition-delay: 0.8s;
              transition-duration: 1s;
            }
          }
        }
      }
    }

    &,
    .visual__logoTitle span,
    .visual__logoTitle span::after,
    .visual__imgs div,
    .visual__imgs div::after {
      transition: transform $transitionSpeedLittleFast $easeOutExpo;
    }
    &.isFix {
      transition: none;
      .visual__imgs {
        & > div {
          transition: none;
        }
      }
    }
  }
}

// concept
// ------------------------------------
.concept {
  &.isActive {
    .concept__title span,
    .concept__lead span,
    .servicesProvided__title {
      transform: none;
      transition: transform $transitionSpeedLittleFast $easeOutExpo;
    }

    .concept__title .title::after,
    .bg::after,
    .concept__lead span::after,
    .servicesProvided__title::after {
      transform-origin: 100% 50%;
      transform: scaleX(0);
      transition: transform $transitionSpeedNormal $easeOutExpo;
    }

    .concept__title {
      .bg::after,
      .title::after {
        transition-delay: $transitionDelayLittle;
      }
    }
    .concept__lead {
      span {
        transition-delay: 0.4s;
      }
      span::after {
        transition-delay: 0.8s;
      }
    }

    .servicesProvided {
      &__title {
        transition-delay: $transitionDelayLittleLarge;
      }

      &__list li,
      &__note {
        opacity: 1;
        transform: none;
        transition: opacity $transitionSpeedLittleFast, transform $transitionSpeedLittleSlow $easeOutExpo;
      }

      &__note {
        opacity: 1;
        transition: opacity $transitionSpeedNormal;
        transition-delay: 1.4s;
      }

      &__list {
        li {
          transition-delay: 1.3s;
        }
      }
    }
  }
}

// column
// ------------------------------------
.column {
  &.isActive {
    .column__imgs figure,
    .column__title .ja,
    .column__title .en,
    p.lead {
      transform-origin: 0 50%;
      transform: none;
      transition: transform $transitionSpeedLittleFast $easeOutExpo;
    }

    .column__imgs figure::after,
    .column__title .ja::after,
    .column__title .en::after,
    p.lead::after {
      transform-origin: 100% 50%;
      transform: scaleX(0);
      transition: transform $transitionSpeedLittleFast $easeOutExpo;
    }

    p.lead {
      transition-delay: 1s;
      &::after {
        @include breakMinWidth($breakpointPhone) {
          transition-delay: 1.3s;
        }
      }
    }

    .column {
      &__title {
        .ja {
          transition-delay: 0s;
          &::after {
            transition-delay: 0.3s;
          }
        }
      }
      &__imgs {
        &::before {
          opacity: $opacityDark;
          transform: none !important;
          transition: opacity $transitionSpeedNormal, transform $transitionSpeedLittleSlow $easeOutExpo;
          transition-delay: 0.9s;
          @include breakMinWidth($breakpointPhone) {
            transition-delay: $transitionDelayLittleLarge;
          }
        }
        figure {
          transform-origin: 50% 0;
          &::after {
            transform-origin: 50% 100%;
            transform: scaleY(0);
          }
          // columnの1から6までのdelay定義
          @each $i in $columnDisplayOrder {
            &:nth-child(#{$i}) {
              transition-delay: #{$columnDelayBase}s;
              @include breakMaxWidth($breakpointPhone) {
                transition-delay: #{$columnDelayBase + $columnDelayAdjustValPhone}s;
              }
              &::after {
                transition-delay: #{$columnAfterDelayBase}s;
                @include breakMaxWidth($breakpointPhone) {
                  transition-delay: #{$columnAfterDelayBase + $columnDelayAdjustValPhone}s;
                }
              }
            }
            // delay値を変動
            $columnDelayBase: $columnDelayBase + $delayFloatingVal;
            $columnAfterDelayBase: $columnAfterDelayBase + $delayFloatingVal;
          }
        }
      }

      &__title {
        .ja {
          &::after {
            @include breakMinWidth($breakpointPhone) {
              transition-delay: 1.1s;
            }
          }
        }
        .en {
          &::after {
            @include breakMinWidth($breakpointPhone) {
              transition-delay: 1.2s;
            }
          }
        }
      }
    }
  }
}
